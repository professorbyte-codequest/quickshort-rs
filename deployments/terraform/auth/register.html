<!DOCTYPE html>
<html lang="en">
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Create your account â€“ QuickShort</title>
  <script src="/auth/config.js"></script>
  <script src="/auth/auth.js"></script>
  <body
    style="
      font-family: system-ui, -apple-system, Segoe UI, Roboto, sans-serif;
      max-width: 600px;
      margin: 5rem auto;
    "
  >
    <h1>Create your account</h1>
    <p>We use Google to sign you in securely.</p>
    <button id="google" style="padding: 0.75rem 1rem; font-size: 1rem">
      Continue with Google
    </button>

    <script>
      document.getElementById("google").addEventListener("click", async () => {
        try {
          const url = await QSAuth.buildAuthorizeUrl();
          const u = new URL(url);
          u.searchParams.set("prompt", "consent"); // optional: force re-consent
          location.href = u.toString();
        } catch (e) {
          alert(e.message || e);
        }
      });
    </script>
  </body>
</html>
